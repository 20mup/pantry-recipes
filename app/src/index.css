/* ========== Café Theme: Warm, paper-like, foodie ========== */
:root{
  --bg: #FAF7F2;              /* cream */
  --ink: #1F2937;             /* dark slate text */
  --muted:#566074;
  --panel:#FFF8F0;
  --line:#E6D9C9;
  --accent:#C1663D;           /* terracotta */
  --accent-2:#9ABF80;         /* sage */
  --ok:#4F9B5D;
  --warn:#D49B3E;
  --radius-lg: 20px;
  --radius-md: 14px;
  --shadow-1: 0 12px 30px rgba(31,41,55,.08);
  --shadow-2: 0 20px 50px rgba(31,41,55,.12);
}

/* === Dark/Espresso Theme overrides === */
:root[data-theme="dark"]{
  --bg: #14110E;
  --ink: #F7F2E7;
  --muted:#C0B6A7;
  --panel:#1C1713;
  --line:#2B221C;
  --accent:#D07A53;
  --accent-2:#96C38B;
  --shadow-1: 0 12px 30px rgba(0,0,0,.4);
  --shadow-2: 0 20px 50px rgba(0,0,0,.55);
}

/* Gentle paper grain */
body {
  margin: 0; color: var(--ink); background: var(--bg);
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  position: relative;
}
body::before{
  content:""; position: fixed; inset: 0; pointer-events: none;
  background-image: radial-gradient(rgba(0,0,0,.03) 1px, transparent 1px);
  background-size: 4px 4px; opacity: .35;
}

/* Theme toggle button */
.theme-toggle{
  position: fixed; top: 16px; right: 16px; z-index: 90;
  width: 44px; height: 44px; border-radius: 999px; border: 1px solid var(--line);
  background: var(--panel); color: var(--ink); box-shadow: var(--shadow-1);
  display: grid; place-items: center; cursor: pointer; font-size: 18px;
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
}
.theme-toggle:hover{ transform: translateY(-2px); box-shadow: var(--shadow-2); }

/* Page container */
.page{ max-width: 1100px; margin: 0 auto; padding: 40px 20px 80px; }

/* Panels / cards */
.panel{
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-1);
}

/* Buttons / inputs */
.btn{
  padding: 10px 14px; border-radius: 999px; border: 1px solid var(--line);
  background: #fff; color: var(--ink); cursor: pointer;
  transition: transform .1s ease, box-shadow .2s ease, background .2s ease;
}
:root[data-theme="dark"] .btn{ background: #221C18; color: var(--ink); }
.btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow-1); }
.btn.primary{ background: var(--accent); color: #fff; border-color: transparent; font-weight: 600; }

.input{
  flex: 1; padding: 14px 16px; border-radius: 999px;
  border: 1px solid var(--line); background: #fff; color: var(--ink);
}
:root[data-theme="dark"] .input{ background: #221C18; color: var(--ink); }

/* Chips */
.chips{ display: flex; flex-wrap: wrap; gap: 8px; }
.chip{
  padding: 8px 12px; border: 1px solid var(--line); border-radius: 999px;
  background: #fff; color: var(--ink); font-size: 13px; cursor: pointer; transition: all .16s ease;
}
:root[data-theme="dark"] .chip{ background: #221C18; }
.chip:hover{ transform: translateY(-1px); box-shadow: var(--shadow-1); }
.chip.active{ background: var(--accent); color: #fff; border-color: transparent; }
.chip.alt.active{ background: var(--accent-2); color: #162212; }

/* Section headings */
.section-head{ display: flex; align-items: center; gap: 10px; margin: 18px 4px 10px; }
.section-head h2{ margin: 0; font-family: "Fraunces", serif; letter-spacing: .2px; }
.muted{ color: var(--muted); }

/* Hero — animated blobs / gradient ring */
.hero{
  position: relative; overflow: hidden; padding: 48px 18px; margin-bottom: 18px;
  display: grid; gap: 14px;
}
.hero-title{
  margin: 0; font-family: "Fraunces", serif; font-size: clamp(28px, 5vw, 42px);
  line-height: 1.05; letter-spacing: .2px;
}
.hero-sub{ margin: 6px 0 14px; color: var(--muted); }
.hero-inner{ max-width: 780px; margin: 0 auto; z-index: 2; position: relative; }
.hero::before{
  content: ""; position: absolute; inset: -40% -10% auto -10%; height: 70%;
  background: radial-gradient(600px 600px at 20% 30%, rgba(154,191,128,.35), transparent 60%),
              radial-gradient(700px 700px at 80% 20%, rgba(193,102,61,.35), transparent 60%);
  filter: blur(12px);
}
:root[data-theme="dark"] .hero::before{
  background: radial-gradient(600px 600px at 20% 30%, rgba(150,195,139,.22), transparent 60%),
              radial-gradient(700px 700px at 80% 20%, rgba(208,122,83,.22), transparent 60%);
}
.blob{ position: absolute; width: 480px; height: 480px; border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(193,102,61,.18), transparent 60%);
  filter: blur(20px); animation: float 12s ease-in-out infinite; }
.blob.b2{ right: -140px; top: -60px;
  background: radial-gradient(circle at 70% 70%, rgba(154,191,128,.18), transparent 60%);
  animation-duration: 16s; }
@keyframes float{ 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(18px) } }

/* Search + toolbar */
.search-block{ display: grid; gap: 10px; }
.search-row{ display: flex; align-items: center; gap: 10px; }
.suggests{ display: flex; flex-wrap: wrap; gap: 8px; }
.toolbar{ margin-top: 10px; padding: 14px; display: grid; gap: 10px; }
.toolbar-row{ display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
.toolbar-label{ font-size: 13px; color: var(--muted); margin-right: 4px; }
.clear-btn{ background: transparent; border: none; color: var(--muted); cursor: pointer; text-decoration: underline; padding: 0 6px; }

/* Footer */
.footer{ margin-top: 36px; text-align: center; color: var(--muted); }

/* ---- Cards & grid ---- */
.grid{
  display:grid; gap:16px; margin-top:12px;
  grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
}
.card{
  background: #fff; border: 1px solid var(--line);
  border-radius: var(--radius-lg); overflow: hidden;
  display: flex; flex-direction: column;
  box-shadow: var(--shadow-1);
  transition: transform .15s ease, box-shadow .2s ease;
}
:root[data-theme="dark"] .card{ background: #1E1915; }
.card:hover{ transform: translateY(-3px); box-shadow: var(--shadow-2); }

/* Overlay photo header */
.thumb-wrap{ position: relative; overflow: hidden; border-bottom: 1px solid var(--line); }
.thumb-img{ width: 100%; aspect-ratio: 4 / 3; object-fit: cover; display: block; transition: transform .35s ease; }
.card:hover .thumb-img{ transform: scale(1.04); }
.thumb-grad{ position: absolute; inset: auto 0 0 0; height: 40%;
  background: linear-gradient(to top, rgba(0,0,0,.28), rgba(0,0,0,0)); pointer-events: none; }
.badges{ position: absolute; left: 10px; top: 10px; display: flex; gap: 6px; flex-wrap: wrap; z-index: 2; }
.badge.overlay{ background: rgba(255,255,255,.9); color: var(--ink); border: 1px solid var(--line); box-shadow: var(--shadow-1); }
:root[data-theme="dark"] .badge.overlay{ background: rgba(20,17,14,.8); color: var(--ink); border-color: #2B221C; }

.quick{ position: absolute; right: 10px; top: 10px; display: flex; gap: 8px; opacity: 0; transform: translateY(-4px); transition: all .2s ease; z-index: 2; }
.card:hover .quick{ opacity: 1; transform: translateY(0); }
.icon-btn{
  width: 36px; height: 36px; border-radius: 999px; display: grid; place-items: center;
  background: rgba(255,255,255,.95); border: 1px solid var(--line); box-shadow: var(--shadow-1);
  cursor: pointer; transition: transform .12s ease, box-shadow .2s ease;
}
:root[data-theme="dark"] .icon-btn{ background: #221C18; }

/* Body */
.body{ padding: 14px; display: flex; flex-direction: column; gap: 10px; }
.row-top{ display:flex; align-items:center; gap:10px; }
.title{
  font-family: "Fraunces", serif; font-size: 18px; line-height: 1.2;
  margin: 0; flex: 1 1 auto;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden; text-overflow: ellipsis; word-break: break-word;
}
.meta{ display:flex; gap:8px; align-items:center; color:var(--muted); font-size:13px; }
.ings{ display:flex; flex-wrap: wrap; align-items:flex-start; gap: 8px; }
.chip{
  display: inline-flex; align-items: center; white-space: nowrap;
  padding: 8px 12px; border-radius: 999px; border: 1px solid var(--line);
  background: #fff; color: var(--ink); font-size: 13px;
}
:root[data-theme="dark"] .chip{ background:#221C18; }
.chip.ok{ background:#F6FBF3; color:var(--ok); border-color:#d7e9d9; }
:root[data-theme="dark"] .chip.ok{ background:#20321F; border-color:#294a31; }
.chip.miss{ background:#FFF7E8; color:var(--warn); border-color:#f1e1c7; }
:root[data-theme="dark"] .chip.miss{ background:#3A2C1E; border-color:#4a3a2a; }
.badge{ margin-left:auto; padding:4px 8px; border-radius:999px; font-size:12px;
  background:#F6FBF3; color:var(--ok); border:1px solid #d7e9d9; }
:root[data-theme="dark"] .badge{ background:#20321F; border-color:#294a31; }
.actions{ display:flex; gap:8px; }
.actions .btn{ flex:1; text-align:center; }

/* global image tweak + small screens */
img { display:block; max-width:100%; height:auto; }
@media (max-width: 520px){ .grid { grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); } }

/* === Detail modal === */
.modal-backdrop{
  position: fixed; inset: 0; background: rgba(0,0,0,.35);
  display: grid; place-items: center; z-index: 50; padding: 20px;
}
.modal{
  max-width: 980px; width: 100%;
  display: grid; grid-template-columns: 1fr 1.2fr; gap: 0;
  overflow: hidden; border-radius: var(--radius-lg);
}
.modal-media img{ width: 100%; height: 100%; object-fit: cover; display: block; }
.modal-body{ padding: 16px 16px 22px; display: grid; gap: 12px; background: var(--panel); }
.modal-head{ display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.modal-title{ margin: 0; font-family: "Fraunces", serif; font-size: 26px; line-height: 1.1; }
.modal-tags{ display: flex; flex-wrap: wrap; gap: 8px; }
.columns{ display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
.col-title{ margin: 0 0 6px; font-family: "Fraunces", serif; font-size: 18px; }
.steps-list{ margin: 6px 0 0 20px; display: grid; gap: 6px; }
.modal-actions{ display: flex; gap: 10px; }

@media (max-width: 860px){
  .modal{ grid-template-columns: 1fr; }
  .modal-media{ height: 240px; }
}

/* === Shopping drawer + FAB === */
.drawer-backdrop{
  position: fixed; inset: 0; background: rgba(0,0,0,.25);
  opacity: 0; pointer-events: none; transition: opacity .2s ease; z-index: 60;
}
.drawer-backdrop.show{ opacity: 1; pointer-events: auto; }

.drawer{
  position: fixed; top: 0; right: 0; height: 100vh; width: min(380px, 90vw);
  background: var(--panel); border-left: 1px solid var(--line);
  box-shadow: -20px 0 50px rgba(31,41,55,.08); z-index: 70;
  transform: translateX(100%); transition: transform .25s ease;
  display: grid; grid-template-rows: auto auto 1fr; gap: 10px; padding: 14px;
}
.drawer.open{ transform: translateX(0); }

.drawer-head{ display: flex; align-items: center; justify-content: space-between; }
.drawer-title{ margin: 0; font-family: "Fraunces", serif; font-size: 22px; }
.drawer-actions{ display: flex; gap: 8px; }

.drawer-list{ list-style: none; margin: 0; padding: 0; display: grid; gap: 8px; overflow: auto; }
.drawer-item{
  display: flex; align-items: center; justify-content: space-between; gap: 8px;
  border: 1px solid var(--line); background: #fff; padding: 10px 12px; border-radius: var(--radius-md);
}
:root[data-theme="dark"] .drawer-item{ background:#1E1915; }
.drawer-item.done{ opacity: .65; }
.checkbox{ display: flex; align-items: center; gap: 10px; }
.checkbox input{ transform: scale(1.1); }
.checkbox span{ overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 220px; }

/* Floating cart button */
.fab{
  position: fixed; right: 18px; bottom: 18px;
  width: 54px; height: 54px; border-radius: 999px;
  background: var(--accent); color: #fff; border: none;
  box-shadow: var(--shadow-2); cursor: pointer; font-size: 22px;
  display: grid; place-items: center; z-index: 80;
  transition: transform .12s ease, box-shadow .2s ease;
}
.fab:hover{ transform: translateY(-2px); }
.fab-badge{
  position: absolute; top: -6px; right: -6px;
  min-width: 22px; height: 22px; padding: 0 6px;
  background: #1F2937; color: #fff; border-radius: 999px;
  display: grid; place-items: center; font-size: 12px; border: 2px solid #fff;
}

/* === Saved carousel polish === */
.fav-row{
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(240px, 1fr);
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 8px;
  scroll-snap-type: x mandatory;
}
.fav-card{
  display: grid;
  grid-template-rows: 140px auto;
  border: 1px solid var(--line);
  border-radius: var(--radius-md);
  background: #fff;
  box-shadow: var(--shadow-1);
  overflow: hidden;
  scroll-snap-align: start;
  transition: transform .12s ease, box-shadow .2s ease;
}
:root[data-theme="dark"] .fav-card{ background:#1E1915; }
.fav-card:hover{ transform: translateY(-2px); box-shadow: var(--shadow-2); }
.fav-img{ display:block; position: relative; }
.fav-img img{ width: 100%; height: 100%; object-fit: cover; display: block; }
.fav-body{ padding: 10px; display: grid; gap: 8px; }
.fav-title{
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
  font-weight: 600;
}
.fav-actions{ display: flex; gap: 8px; }
